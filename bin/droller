#!/usr/bin/env bash

DIRECTORY="$HOME/.config/droller"
INDEX="$DIRECTORY/index"
HEAD="$DIRECTORY/head"

main() {
    createFiles

    case $1 in
        "status"|"s")
            checkStatus; exit ;;
        "open"|"o")
            echo "open";;
        "+1"|"1")
            echo "one plus";;
        "-1"|"-")
            echo "one minus";;
        "top"|"t")
            echo "select top";;
        "random"|"r")
            echo "random";;
        "edit"|"e")
            echo "edit HEAD";;
        "add"|"a")
            echo "add uri";;
        "delete"|"d")
            echo "delete";;
        "help"|"h")
            echo "help";;
        *)
            echo "else";;
    esac
}

createFiles() {
    if [ ! -d "$DIRECTORY" ]; then
        mkdir -p $DIRECTORY
    fi
    if [ ! -f "$INDEX" ]; then
        touch $INDEX
    fi
    if [ ! -f "$HEAD" ]; then
        touch $HEAD
    fi
}

checkStatus() {
    head -1 $HEAD | cut -c 42-
}

main $@

